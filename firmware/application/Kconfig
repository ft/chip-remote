mainmenu "Chip Remote Firmware"

menu "Firmware Specific Build Configuration"

choice CR_INTERFACE_TYPE
       prompt "Control Interface Type"
       default CR_INTERFACE_NONE

config CR_INTERFACE_SIMPLE_SERIAL
       bool "Simple Serial Interface"
       help
         This is the right choice for serial interfaces such as UART.

config CR_INTERFACE_SMART_SERIAL
       bool "Smart Serial Interface"
       help
         This is for serial interfaces such as USB CDC ACM for native
         POSIX build serial ports.

config CR_INTERFACE_TCPIP
       bool "Networking interface using TCP/IP"

config CR_INTERFACE_NONE
       bool "None (Default, but invalid - see help)"
       help
         Every board port must specify this type in their board specific
         configuration file.

endchoice # CR_INTERFACE_TYPE

config CR_PROTOCOL_SERIAL_BAUDRATE
       int "Serial Port Symbolrate"
       depends on CR_INTERFACE_SIMPLE_SERIAL
       default 921600
       help
         Configure the symbolrate used by the chip-remote control interface
         running on a simple serial port. Note that oftentimes serial ports
         only support a fixed set of symbolrates. Most serial ports support:
         50, 75, 110, 134, 150, 200, 300, 600, 1200, 1800, 2400, 4800, 9600,
         19200, 38400, 57600, 115200, 230400, 460800, 500000, 576000, 921600.
         Some ports also support: 1000000, 1152000, 1500000, 2000000, 2500000,
         3000000, 3500000, 4000000.

config CR_MAX_I2C_SECTIONS
    int "Maximum number of sections in an I2C message"
    default 8

endmenu

# This is from zephyr-3.0.0, but without the (toolchain = zephyr) check. I
# think this is a bug in zephyr. The intend from the comment in 0e0f878ddc
# seems to be to avoid trying to use picolibc with clang, and to only enable
# support for GNU based toolchains. "gnuarmemb" is one of those however. So
# that check is too restrictive. Luckily it is possible to override this be-
# haviour in the application's Kconfig file. That's what we'll do for now.
config PICOLIBC_SUPPORTED
    bool
    depends on !NATIVE_APPLICATION
    depends on !(CPP && "$(ZEPHYR_TOOLCHAIN_VARIANT)" = "zephyr")
    default y

source "Kconfig.zephyr"
