#!/bin/sh
# Make-In-Build-Exec-Script
#
# This script creates a wrapper script that makes it possible to use
# the interpreter program of the project directly from the build-tree
# without having to install anything.

SRCDIR="$1"
BUILDDIR="$2"

scriptname="${BUILDDIR}/cdce-remote-wrapper"

content="#!/bin/sh
# generated by "\""make inbuildexecscript"\"".

GUILE_AUTO_COMPILE=0
export GUILE_AUTO_COMPILE
GUILE_LOAD_PATH="\""${SRCDIR}/scheme"\""
export GUILE_LOAD_PATH
GUILE_WARN_DEPRECATED=detailed
export GUILE_WARN_DEPRECATED

exec ${BUILDDIR}/cdce-remote "\"\$\@\"""

printf '%s\n' "$content" > "$scriptname"

chmod 0700 "$scriptname"
